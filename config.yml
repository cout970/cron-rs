logging:
  output: stdout
  level: info

alerts:
  on_failure:
    # Execute a command when a task fails
    - type: cmd
      cmd: |
        cat <<- EOF > .tmp/alerts.txt 
        {{ task_name }} failed with exit code {{ exit_code }}
        {{ debug_info }}
        EOF

tasks:
  - name: Task1
    cmd: echo 'hello'
    when:
      day_of_week:
        - Mon
        - tHu
      year: '*'
      month: '*'
      day: '*/2'
      hour: 12
      minute: 0
      second: 0

  - name: Task2
    cmd: echo 'hello'
    when: '[Mon,Tue] *-*/2-01 12:00:00'

  - name: Task3
    cmd: echo 'hello'
    when: '[Mon,Thu] 14..18-*/5+2-[2, 15, 24] 12:00:00'

  - name: Task4
    cmd: date
    when: '* *-*-* *:*:*/5'
    avoid_overlapping: true
    run_as: root:root

  - name: Task5
    cmd: echo 'hello'
    when: '[Mon,Thu] 14..18-*/5+2-00 12:00:*'
    timezone: 'Europe/Madrid'
